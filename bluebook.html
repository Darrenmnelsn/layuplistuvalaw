<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>LayupList ‚Äì UVA Law Planner</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>
  <body class="bg-slate-950">
    <div id="root"></div>

    <script type="text/babel">
      const schedule = [
        {
          semester: "1L Fall",
          courses: [
            { name: "Contracts", credits: 4, gpa: 3.5 },
            { name: "Torts", credits: 4, gpa: 3.5 },
            { name: "Civil Procedure", credits: 4, gpa: 3.5 },
          ],
        },
        {
          semester: "1L Spring Option 1 (Litigation)",
          courses: [
            { name: "Con Law", credits: 4, gpa: 3.5 },
            { name: "Evidence", credits: 4, gpa: 3.6 },
            { name: "Professional Responsibility", credits: 3, gpa: 3.65 },
          ],
        },
        {
          semester: "1L Spring Option 2 (Business)",
          courses: [
            { name: "Con Law", credits: 4, gpa: 3.5 },
            { name: "Corporations", credits: 4, gpa: 3.7 },
            { name: "Intro to Law & Business", credits: 3, gpa: 3.65 },
          ],
        },
        {
          semester: "2L Fall",
          courses: [
            { name: "Corporations / Business Associations", credits: 4, gpa: 3.7 },
            { name: "Federal Income Tax", credits: 3, gpa: 3.7 },
            { name: "Optional Elective", credits: 2, gpa: 3.55 },
          ],
        },
        {
          semester: "2L Spring",
          courses: [
            { name: "Bankruptcy / Corporate Finance", credits: 4, gpa: 3.65 },
            { name: "Deals / M&A", credits: 3, gpa: 3.7 },
            { name: "Optional Seminar", credits: 2, gpa: 3.6 },
          ],
        },
        {
          semester: "3L Fall",
          courses: [
            { name: "Corporate Law Seminar", credits: 4, gpa: 3.7 },
            { name: "Tax & Business", credits: 3, gpa: 3.7 },
            { name: "Optional Seminar / Independent Study", credits: 2, gpa: 3.6 },
          ],
        },
        {
          semester: "3L Spring",
          courses: [
            { name: "Trial / Advocacy Clinic", credits: 4, gpa: 3.55 },
            { name: "Legal History / Policy Seminar", credits: 3, gpa: 3.6 },
            { name: "Optional Elective", credits: 2, gpa: 3.65 },
          ],
        },
      ];

      const professors = [
        {
          name: "John C Harrison",
          courses: ["Federal Courts"],
          gpa: 3.65,
          reviews: [
            { student: "3L Litigator", text: "Crystal-clear explanations of Article III doctrine. Cold calls are tough but fair." },
            { student: "2L Transfer", text: "Heavy reading load, yet curve-friendly. Great for clerkship prep." },
          ],
        },
        {
          name: "Aditya Bamzai",
          courses: ["Civil Procedure", "Administrative Law", "Computer Crime"],
          gpa: 3.53,
          reviews: [
            { student: "1L Section C", text: "Uses hypotheticals nonstop‚Äîperfect for exam practice." },
            { student: "Cyber Clinic RA", text: "Admin + tech overlap makes his office hours invaluable." },
          ],
        },
        {
          name: "Barbara Ellen Armacost",
          courses: ["Torts", "Con Law II: Religious Liberty"],
          gpa: 3.495,
          reviews: [
            { student: "1L Evening", text: "Warm teaching style and detailed rubrics kept everyone relaxed." },
            { student: "Rel Liberty Seminar", text: "Expect reflective essays alongside doctrinal analysis." },
          ],
        },
        {
          name: "Paul Gregory Mitchell",
          courses: ["Evidence", "Professional Responsibility"],
          gpa: 3.505,
          reviews: [
            { student: "Trial Advocacy Member", text: "Practical evidence hypos mirror UVA mock trial problems." },
            { student: "Ethics TA", text: "Professional responsibility lectures are concise and practical." },
          ],
        },
        {
          name: "Michael Gilbert",
          courses: ["Regulation of Political Process"],
          gpa: 3.52,
          reviews: [
            { student: "Election Law Society", text: "Policy-focused discussions; bring current-event references." },
            { student: "Journal Note Writer", text: "Provides thoughtful feedback on research topics." },
          ],
        },
        {
          name: "Benjamin Ryan Sachs",
          courses: ["Professional Responsibility"],
          gpa: 3.51,
          reviews: [
            { student: "Ethics Section", text: "Stories from practice keep dry material engaging." },
            { student: "Public Service Fellow", text: "Accommodating to externship schedules." },
          ],
        },
        {
          name: "Josh Bowers",
          courses: ["Criminal Procedure Survey"],
          gpa: 3.54,
          reviews: [
            { student: "Public Defender Intern", text: "Great framing of practical defense strategies." },
            { student: "2L Spring", text: "Calls on everyone eventually‚Äîbrief the cases well." },
          ],
        },
        {
          name: "Darryl Keith Brown",
          courses: ["Criminal Law", "Criminal Adjudication"],
          gpa: 3.5,
          reviews: [
            { student: "1L Prosecutor", text: "Balanced between theory and policy critiques." },
            { student: "JAG Scholar", text: "Exam focuses on applying doctrine, not rote recall." },
          ],
        },
      ];

      const GPA_BUCKETS = [
        { min: 3.65, label: "3.65 ‚Äì 3.75", color: "#006400" },
        { min: 3.55, label: "3.55 ‚Äì 3.64", color: "#90EE90" },
        { min: 3.45, label: "3.45 ‚Äì 3.54", color: "#FFFF99" },
        { min: 3.35, label: "3.35 ‚Äì 3.44", color: "#FFA500" },
        { min: -Infinity, label: "< 3.35", color: "#FF6347" },
      ];

      const gpaToColor = (gpa) => GPA_BUCKETS.find((bucket) => gpa >= bucket.min)?.color ?? "#CCCCCC";
      const MAX_CREDITS = Math.max(
        12,
        ...schedule.map((semester) => semester.courses.reduce((sum, course) => sum + course.credits, 0)),
      );

      function LayupList() {
        const [searchTerm, setSearchTerm] = React.useState("");
        const professorsByGpa = React.useMemo(() => [...professors].sort((a, b) => b.gpa - a.gpa), []);
        const filteredProfessors = React.useMemo(() => {
          const query = searchTerm.trim().toLowerCase();
          if (!query) return professorsByGpa;
          return professorsByGpa.filter((professor) => {
            const inName = professor.name.toLowerCase().includes(query);
            const inCourse = professor.courses.some((course) => course.toLowerCase().includes(query));
            return inName || inCourse;
          });
        }, [professorsByGpa, searchTerm]);

        return (
          <div className="min-h-screen bg-gradient-to-b from-slate-950 via-slate-900 to-slate-800 text-slate-100 px-6 py-12">
            <div className="mx-auto max-w-5xl space-y-10">
              <header className="text-center">
                <p className="text-sm tracking-wide uppercase text-orange-400">LayupList</p>
                <h1 className="mt-2 text-4xl font-bold text-white sm:text-5xl">UVA Law LayupList</h1>
                <p className="mx-auto mt-4 max-w-2xl text-base text-slate-300">
                  Search professors, scan their median GPAs, and read UVA student reviews before locking in your class list.
                </p>
                <div className="mt-8">
                  <label htmlFor="prof-search" className="sr-only">
                    Search professors or courses
                  </label>
                  <div className="relative mx-auto max-w-2xl">
                    <span className="pointer-events-none absolute left-4 top-1/2 -translate-y-1/2 text-slate-500">üîç</span>
                    <input
                      id="prof-search"
                      type="search"
                      placeholder="Search professors or courses‚Ä¶"
                      value={searchTerm}
                      onChange={(event) => setSearchTerm(event.target.value)}
                      className="w-full rounded-2xl border border-white/10 bg-white/5 px-12 py-4 text-base text-white placeholder:text-slate-400 focus:border-orange-300 focus:outline-none focus:ring-2 focus:ring-orange-400/40"
                    />
                  </div>
                  <p className="mt-3 text-sm text-slate-400">
                    Showing {filteredProfessors.length} of {professorsByGpa.length} professors
                  </p>
                </div>
              </header>

              <section className="rounded-3xl border border-white/10 bg-slate-900/40 p-6 shadow-xl shadow-black/30">
                <div className="mb-5 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between">
                  <div>
                    <p className="text-xs uppercase tracking-wide text-orange-300">Professor Profiles</p>
                    <h2 className="text-2xl font-semibold text-white">Median Classes & Student Reviews</h2>
                    <p className="text-sm text-slate-300">
                      Every profile is hard-wired for now‚Äîperfect for validating the concept before you plug in data feeds.
                    </p>
                  </div>
                  <div className="rounded-full bg-slate-800 px-4 py-2 text-center text-xs text-slate-200">
                    {filteredProfessors.length === professorsByGpa.length ? "Explore them all" : "Filtered view"}
                  </div>
                </div>

                {filteredProfessors.length === 0 ? (
                  <p className="rounded-2xl border border-dashed border-white/20 bg-white/5 p-6 text-center text-sm text-slate-300">
                    No professors match that search yet. Try another name, course, or clear the query.
                  </p>
                ) : (
                  <div className="grid gap-4 md:grid-cols-2">
                    {filteredProfessors.map((professor, idx) => (
                      <article
                        key={professor.name}
                        className="flex flex-col gap-4 rounded-2xl border border-white/10 bg-white/5 p-4 shadow-md shadow-black/20"
                      >
                        <div className="flex items-center justify-between gap-3">
                          <div>
                            <p className="text-xs uppercase tracking-wide text-orange-200">Rank #{idx + 1}</p>
                            <h3 className="text-lg font-semibold text-white">{professor.name}</h3>
                            <p className="text-xs text-slate-400">
                              Median GPA {professor.gpa.toFixed(3)} ¬∑ {professor.courses.length} classes tracked
                            </p>
                          </div>
                          <div className="rounded-2xl bg-slate-900 px-3 py-1 text-sm font-semibold text-green-300">
                            {professor.gpa.toFixed(3)}
                          </div>
                        </div>

                        <div>
                          <p className="text-xs uppercase tracking-wide text-slate-400">Median Classes</p>
                          <div className="mt-2 flex flex-wrap gap-2">
                            {professor.courses.map((course) => (
                              <span
                                key={`${professor.name}-${course}`}
                                className="rounded-full bg-slate-950/40 px-3 py-1 text-xs text-slate-100"
                              >
                                {course}
                              </span>
                            ))}
                          </div>
                        </div>

                        <div className="rounded-2xl border border-white/5 bg-slate-900/50 p-3">
                          <p className="text-xs uppercase tracking-wide text-slate-400">Student Reviews</p>
                          <div className="mt-2 space-y-2 text-sm text-slate-100">
                            {professor.reviews.map((review, reviewIdx) => (
                              <p key={`${professor.name}-review-${reviewIdx}`}>
                                <span className="font-semibold text-orange-200">{review.student}:</span> {review.text}
                              </p>
                            ))}
                          </div>
                        </div>
                      </article>
                    ))}
                  </div>
                )}
              </section>

              <section className="space-y-6 rounded-3xl bg-white/5 p-6 shadow-xl shadow-black/40 backdrop-blur">
                {schedule.map((semester) => {
                  const totalCredits = semester.courses.reduce((sum, course) => sum + course.credits, 0);
                  const remainingWidth = Math.max(0, ((MAX_CREDITS - totalCredits) / MAX_CREDITS) * 100);

                  return (
                    <article
                      key={semester.semester}
                      className="rounded-2xl border border-white/10 bg-white/5 p-5 transition hover:border-orange-300/60"
                    >
                      <div className="flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between">
                        <div>
                          <p className="text-xs tracking-wide text-orange-300 uppercase">Semester</p>
                          <h2 className="text-xl font-semibold text-white">{semester.semester}</h2>
                        </div>
                        <div className="text-sm text-slate-300">
                          Total Credits:{" "}
                          <span className="font-semibold text-white">
                            {totalCredits}
                            {totalCredits < MAX_CREDITS ? ` / ${MAX_CREDITS}` : ""}
                          </span>
                        </div>
                      </div>

                      <div className="mt-4 flex h-28 items-stretch rounded-xl border border-white/5 bg-slate-950/30">
                        {semester.courses.map((course) => {
                          const widthPercentage = (course.credits / MAX_CREDITS) * 100;
                          const color = gpaToColor(course.gpa);
                          const useLightText = course.gpa >= 3.55;

                          return (
                            <div
                              key={`${semester.semester}-${course.name}`}
                              className="flex flex-1 flex-col justify-center border-r border-white/10 px-2 text-center last:border-r-0"
                              style={{ width: `${widthPercentage}%`, backgroundColor: color }}
                              title={`${course.name}: ${course.credits} credits ‚Ä¢ Median GPA ${course.gpa.toFixed(2)}`}
                            >
                              <p className={`text-sm font-semibold ${useLightText ? "text-white" : "text-black"}`}>
                                {course.name}
                              </p>
                              <p className={`text-xs ${useLightText ? "text-white/80" : "text-black/80"}`}>
                                {course.credits} credits
                              </p>
                              <p className={`text-xs font-semibold ${useLightText ? "text-white" : "text-black"}`}>
                                GPA ~ {course.gpa.toFixed(2)}
                              </p>
                            </div>
                          );
                        })}
                        {remainingWidth > 0 && (
                          <div
                            className="hidden h-full items-center justify-center text-xs text-slate-500 md:flex"
                            style={{ width: `${remainingWidth}%` }}
                          >
                            Free Electives / Clinics
                          </div>
                        )}
                      </div>
                    </article>
                  );
                })}
              </section>

              <footer className="mt-10 flex flex-col gap-4 rounded-2xl border border-white/10 bg-white/5 p-5 sm:flex-row sm:items-center sm:justify-between">
                <div>
                  <p className="text-sm font-semibold text-white">Median GPA Legend</p>
                  <p className="text-xs text-slate-300">Color-coding mirrors the Matplotlib heatmap.</p>
                </div>
                <div className="flex flex-wrap gap-3">
                  {GPA_BUCKETS.map((bucket) => (
                    <div key={bucket.label} className="flex items-center gap-2 rounded-full bg-slate-900/60 px-3 py-1">
                      <span className="h-3 w-3 rounded-full" style={{ backgroundColor: bucket.color }} />
                      <span className="text-xs text-slate-100">{bucket.label}</span>
                    </div>
                  ))}
                </div>
              </footer>
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<LayupList />);
    </script>
  </body>
</html>
